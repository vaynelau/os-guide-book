\chapter{教师寄语}

\begin{quotation}
  \begin{flushleft}
{\textit{“掌握操作系统原理的最好途径就是自己编写一个操作系统，我希望大家都能写出自己的操作系统。”} } \par
\begin{flushright}
—— {\textbf{王雷}}
\end{flushright}
  \end{flushleft}
\end{quotation}

操作系统是计算机系统的一个重要系统软件，也计算机专业教学的重要内容。该课程概念众多、内容抽象，不仅需要讲授操作系统的原理，
而且还要通过实验加深对操作系统理解。实验对操作系统课程的学习是至关重要的，掌握操作系统原理的最好途径就是自己编写一个操作系统。

因此，从1999年我开始讲授这门课程以来，一直想寻找一个好的操作系统实验环境。我曾经尝试过Minix、Nachos、Linux、WRK等很多实验环境，
其中还得到了微软亚洲研究院、SUN中国研究院的帮助，但是一直没有找到合适的实验环境。
直到2007年我发现了MIT的JOS系统，并指导学生刘智武在毕业设计期间完成了该系统实验。
同时，在操作系统课上选了两个学生尝试完成JOS实验，但是效果不太好，由于x86启动比较复杂，他们在前两个实验上花费的时间太多了，
以至于没时间完成后面的实验。因此，我开始尝试将实验适当简化，并移植到相对简单的MIPS上。\par
正好北航计算机学院在进行教学改革，希望将硬件课与软件课打通，加强学生系统能力的培养。在学院支持下，组织了刘阳、程致远、刘伟、朱沥可等同学，
我们参考Linux代码，完成了向MIPS的移植工作。特别是刘阳同学，不仅编写了代码和手册，还完成了很多组织协调工作。这时候总算有了一个能让学生在一学期完成的、
相对完整的小型操作系统。在推广MIPS操作系统实验时，为了保证教学连续性，我们允许学生从Windows、Linux和MIPS操作系统中选择一个实验完成，
并可以分组完成。\par
2010、2011和2012年选择MIPS操作系统实验的同学人数分别为3\%，14\%，30\%，实验成绩也在逐步上升。
在2013年的计算机学院实验班、2014年和2015年计算机大班中开始全面推广，并要求每个同学独立完成。在实验教学过程中，
我的研究生都当过我的助教，另外还有一些其他老师的研究生和一些本科生志愿者，这些同学共同完成了实验手册的编写、
实验代码的完善和实验环境的搭建。这些人包括蔚鹏志、谭成鑫、王刚、王欢、李康、王振、王平、马春雷、师斌、张健、高超、
康乔、禹舟健和宗毅等同学，特别是王振和马春雷对完成了大量实验手册完善工作，高超在沃天宇老师和师斌的帮助下独立完成了整个实验环境的搭建，
宗毅完成了实验向QEMU的部分移植工作。我可能无法把所有人的名字列出来，但由衷地感谢他们！

最后我要感谢刘乾、王鹿鸣和何涛三位同学！他们修改了代码中的错误、加入了大量注释，特别是他们重写了整个实验指导手册。我再次感谢他们！

本实验的目标是在一学期内，以MIPS为基础，让学生从最基本的硬件管理功能，逐步扩充，最后完成一个完整的系统。
操作系统实验共包括“初识操作系统”、“内核制作与启动”、“内存管理”、“进程与中断”、“系统调用”、“文件系统”（选做）和“shell”（选做）等七个部分。
\begin{enumerate}
 \item 初识操作系统：在只有命令行的环境下，掌握Linux的基础命令、常用工具以及Git的使用。
 \item 内核制作与启动：了解计算机在加电之后，如何引导文件，初始化基本硬件设备，通过修改链接脚本，学习把一段程序放在指定的内存地址。
 \item 内存管理：完成初始化MMU，TLB，建立虚拟内存管理机制，并在内存中安排基本的内核数据结构布局。
 \item 进程与中断：完成初始化进程运行环境，实现进程创建的基本方法和简单的进程调度算法。
 \item 系统调用：进程使用内核服务都是通过系统调用的方式实现。
 \item 文件系统：实现一个基于块设备的文件系统。
 \item shell命令解释程序：Shell功能的实现，给用户提供了访问操作系统的接口。
\end{enumerate}

从实验内容可以看出，现代操作系统基本的几个功能，例如内存空间，进程管理等，都得到实现。
通过这些实验，学生能够更加深入的理解操作系统原理及其实现方法，同时也可以在这个基础上实现自己的功能，
实现更加复杂的操作系统并完成一些有挑战性任务。

我相信，现在的实验指导手册和代码注释会使同学们在完成复杂操作系统实验时感到一些轻松。感谢这些同学对实验做出的贡献，
希望你们不辜负他们的努力，用心完成实验。更希望你们能为实验和实验指导书提出更多的反馈意见！

\begin{table}
\centering
\renewcommand\arraystretch{1.4}\arrayrulecolor{baseD}
\captionsetup{singlelinecheck=false, labelfont=sc, labelsep=quad,justification=centering}
\caption*{MIPS操作系统实验大事表}\vskip -1.5ex
\begin{tabular}{@{\,}r <{\hskip 2pt} !{\foo} >{\raggedright\arraybackslash}p{12cm}}
\toprule
\addlinespace[1.5ex]
1999 & 尝试Minix、Nachos、Linux、WRK等实验环境，还得到了微软亚洲研究院、SUN中国研究院的帮助，但没有合适的实验环境。\\
2007 & 发现MIT的JOS实验，指导刘智武在毕业设计期间完成JOS实验。\\
2007 & 挑选学生尝试JOS实验，但是由于x86的启动比较复杂，学生只完成两个实验。开始尝试将实验移植到相对简单的MIPS上。\\
2009 & 北航计算机学院教学改革，在学院支持下，组织了刘阳、程致远、刘伟、朱沥可完成了JOS到MIPS的移植工作。\\
2010 & 选择MIPS操作系统实验的同学仅有3\%。\\
2011 & 选择MIPS操作实验的同学比例上升到14\%。\\
2012 & 选择的同学增加到了30\%，实验成绩稳步上升。\\
2013 & 在北航计算机学院实验班推广，并要求学生独立完成。\\
2014 & 在北航计算机学院大班中推广，并且在这期间，许多人作为研究生助教与本科生志愿者参与了实验手册的编写、环境搭建与代码的完善。\\
2015 & 有感于实验手册质量欠缺，何涛、王鹿鸣、刘乾同学完成本书的第一版撰写。\\
2016 & 更多的可能，期待你们来书写！
\end{tabular}
\end{table}

\begingroup
\vspace*{\baselineskip}
\endgroup
